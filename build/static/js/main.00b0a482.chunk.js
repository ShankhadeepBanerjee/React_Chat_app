(this["webpackJsonpchat-app"]=this["webpackJsonpchat-app"]||[]).push([[0],{34:function(e,t,n){},35:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var a=n(9),c=n(21),s=n.n(c),i=(n(34),n(29)),r=n(14),o=n(10),u=n(12),l=(n(35),n(4));var j=function(e){return Object(l.jsx)("div",{className:"chatbox",children:Object(l.jsxs)("form",{action:"",className:"chatbox-form",children:[Object(l.jsx)("input",{className:"chatbox-input",type:"text",onChange:e.onchange,placeholder:"Text",name:"chatText",value:e.text}),Object(l.jsx)("button",{onClick:e.onclick,children:"send"})]})})};n(37);var h=function(e){return Object(l.jsx)("li",{children:Object(l.jsxs)("div",{className:"chatline "+(e.mssg.name===e.currentUser?"user":"other"),children:[Object(l.jsx)("h5",{children:e.mssg.name.slice(0,30)}),Object(l.jsx)("p",{children:e.mssg.chatText}),Object(l.jsx)("p",{className:"time-stamp",children:e.mssg.dateTime})]})})};n(38);var d=function(e){return e.user.signedIn&&Object(l.jsxs)("ul",{className:"chatList",children:[e.chatList.map((function(t,n){return Object(l.jsx)(h,{mssg:t,id:n,currentUser:e.user.userName},n)})),Object(l.jsx)("div",{className:"padd"})]})},b=n(17),m=n.n(b);n(50);var p=function(e){var t=Object(a.useState)(!1),n=Object(u.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(""),r=Object(u.a)(i,2),o=r[0],j=r[1];return Object(l.jsxs)("div",{className:"nav",children:[e.user.signedIn?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("h3",{children:["User: ",Object(l.jsx)("b",{children:e.user.userName})," "]}),Object(l.jsx)("button",{type:"button",onClick:function(t){j("Log Out"),e.actions.logOut()},children:"Log Out"})]}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("button",{type:"button",onClick:function(){s(!0),j("Sign In")},children:"Sign In"}),Object(l.jsx)("button",{type:"button",onClick:function(){s(!0),j("Sign Up")},children:"Sign Up"})]}),Object(l.jsxs)(m.a,{isOpen:c,onRequestClose:function(){s(!1)},style:{content:{width:"50%",height:"50%",margin:"auto"}},children:[Object(l.jsx)("h1",{children:o}),Object(l.jsxs)("form",{action:"",className:"auth",children:["Sign Up"===o&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("label",{htmlFor:"userName",children:"Username:"}),Object(l.jsx)("input",{type:"text",name:"userName",value:e.user.userName,onChange:e.actions.handleUserChange})]}),Object(l.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(l.jsx)("input",{type:"email",name:"email",value:e.user.email,onChange:e.actions.handleUserChange}),Object(l.jsx)("label",{htmlFor:"password",children:"Password: "}),Object(l.jsx)("input",{type:"password",name:"password",value:e.user.password,onChange:e.actions.handleUserChange}),Object(l.jsx)("button",{onClick:function(t){s(!1),function(t,n){t.preventDefault(),e.user.email&&e.user.password&&("Sign Up"===n?e.actions.signUp(e.user):e.actions.signIn(e.user))}(t,o)},children:o})]})]})]})},O=(n(51),n(15));n(28);O.a.initializeApp({apiKey:"AIzaSyDCAU_6V17T3ZwMYnYzo4BIoQ7wmv32AHA",authDomain:"chat-app-d116c.firebaseapp.com",projectId:"chat-app-d116c",storageBucket:"chat-app-d116c.appspot.com",messagingSenderId:"117866356263",appId:"1:117866356263:web:917b03ec83f43f9de53802"});var f=O.a.auth(),g=O.a.firestore(),x=O.a;m.a.setAppElement("#root");var v=function(){var e=Object(a.useState)({chatText:"",name:"",time:0,dateTime:""}),t=Object(u.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)([]),h=Object(u.a)(s,2),b=h[0],m=h[1],O=Object(a.useState)({userName:"",email:"",password:"",signedIn:!1}),v=Object(u.a)(O,2),w=v[0],N=v[1],I={signUp:function(e){x.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){x.auth().currentUser.updateProfile({displayName:e.userName}),N((function(e){return Object(o.a)(Object(o.a)({},e),{},{signedIn:!0})}))})).catch((function(e){var t=e.message;alert(t)}))},signIn:function(e){x.auth().signInWithEmailAndPassword(e.email,e.password).then((function(e){N((function(e){return Object(o.a)(Object(o.a)({},e),{},{signedIn:!0})}))})).catch((function(e){var t=e.message;alert(t)}))},logOut:function(){f.signOut(),N({userName:"",email:"",password:""})},handleUserChange:function(e){var t=e.target,n=t.name,a=t.value;N((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(r.a)({},n,a))}))}};function C(){document.querySelector(".chatList").scrollIntoView(!1)}return Object(a.useEffect)((function(){f.onAuthStateChanged((function(e){e&&(N({userName:e.displayName,email:"",password:"",signedIn:!0}),c((function(t){return Object(o.a)(Object(o.a)({},t),{},{name:e.displayName})})),g.collection("newChats").orderBy("time").onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(e.data())})),m(t),C()})),C())}))}),[]),Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(p,{user:w,actions:I}),w.signedIn&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(d,{chatList:b,user:w}),Object(l.jsx)(j,{onchange:function(e){var t=e.target,n=t.name,a=t.value;c((function(e){return Object(o.a)(Object(o.a)({},e),{},Object(r.a)({},n,a))}))},onclick:function(e){var t;e.preventDefault(),""!==n.chatText&&(n.time=Date.now(),n.dateTime=Date().slice(0,21),m((function(e){return[].concat(Object(i.a)(e),[n])})),t=n,g.collection("newChats").add(t),c((function(e){return Object(o.a)(Object(o.a)({},e),{},{chatText:""})})))},text:n.chatText})]})]})};s.a.render(Object(l.jsx)(v,{}),document.getElementById("root"))}},[[57,1,2]]]);
//# sourceMappingURL=main.00b0a482.chunk.js.map